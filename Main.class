package lab11;

import java.util.HashMap;
import java.util.Map;

public class Main {
    // Non-Recursion
    public String NumToString(int N){
        StringBuffer ret = new StringBuffer();
        Map<Integer, String> nums = new HashMap<>();
        nums.put(0, "");
        nums.put(1, "one");
        nums.put(2, "two");
        nums.put(3, "three");
        nums.put(4, "four");
        nums.put(5, "five");
        nums.put(6, "six");
        nums.put(7, "seven");
        nums.put(8, "eight");
        nums.put(9, "nine");
        nums.put(10, "ten");
        nums.put(11, "eleven");
        nums.put(12, "twelve");
        nums.put(13, "thirteen");
        nums.put(14, "fourteen");
        nums.put(15, "fifteen");
        nums.put(16, "sixteen");
        nums.put(17, "seventeen");
        nums.put(18, "eighteen");
        nums.put(19, "nineteen");
        nums.put(20, "twenty");
        nums.put(30, "thirty");
        nums.put(40, "forty");
        nums.put(50, "fifty");
        nums.put(60, "sixty");
        nums.put(70, "seventy");
        nums.put(80, "eighty");
        nums.put(90, "ninety");
        Map<Integer, String> units = new HashMap<>();
        units.put(1,"thousands ");
        units.put(0," ");
        units.put(2,"millions ");
        units.put(3,"billions ");
        StringBuffer tmp = new StringBuffer();
        tmp.append(N);
        int n = tmp.length();
        System.err.println(n);
        for(int i = 0; i < n; ++i){
            // (n-i-1)
            int unit = n-i-1;
            // last digit
            if(unit % 3 == 0){
                // .append(units.get((unit-1) / 3))
                if(i == 0){ret.append(nums.get(tmp.charAt(i)-'0')).append(" ");}
                ret.append(units.get(unit/3));
            }
            // first digit
            else if(unit % 3 == 2){
                int first = tmp.charAt(i) - '0';
                if(first != 0){ret.append(nums.get(first)).append(" hundreds ");}
            }
            // second digit
            else if(unit % 3 == 1){
                int second = tmp.charAt(i) - '0';
                if(second == 1){
                    int cur = second*10 + tmp.charAt(i+1) - '0';
                    ret.append(nums.get(cur)).append(" ");
                }else if(second > 1){
                    ret.append(nums.get(second*10)).append("-")
                            .append(nums.get(tmp.charAt(i+1)-'0'));
                }else if(second == 0){
                    ret.append(nums.get(tmp.charAt(i+1)-'0')).append(" ");
                }
                System.err.println(ret);
            }

        }
        System.out.println(ret);
        return ret.toString();
    }
    public static void main(String[] args){
        Main main = new Main();
        main.NumToString(5115);
    }
}
